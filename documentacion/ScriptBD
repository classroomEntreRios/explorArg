USE [master]
GO
/****** Object:  Database [ExplorARG]    Script Date: 11/2/2021 20:24:35 ******/
CREATE DATABASE [ExplorARG]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'Explorar', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\DATA\Explorar.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'Explorar_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\DATA\Explorar_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 WITH CATALOG_COLLATION = DATABASE_DEFAULT
GO
ALTER DATABASE [ExplorARG] SET COMPATIBILITY_LEVEL = 150
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [ExplorARG].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [ExplorARG] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [ExplorARG] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [ExplorARG] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [ExplorARG] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [ExplorARG] SET ARITHABORT OFF 
GO
ALTER DATABASE [ExplorARG] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [ExplorARG] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [ExplorARG] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [ExplorARG] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [ExplorARG] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [ExplorARG] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [ExplorARG] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [ExplorARG] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [ExplorARG] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [ExplorARG] SET  DISABLE_BROKER 
GO
ALTER DATABASE [ExplorARG] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [ExplorARG] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [ExplorARG] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [ExplorARG] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [ExplorARG] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [ExplorARG] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [ExplorARG] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [ExplorARG] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [ExplorARG] SET  MULTI_USER 
GO
ALTER DATABASE [ExplorARG] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [ExplorARG] SET DB_CHAINING OFF 
GO
ALTER DATABASE [ExplorARG] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [ExplorARG] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [ExplorARG] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [ExplorARG] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
ALTER DATABASE [ExplorARG] SET QUERY_STORE = OFF
GO
USE [ExplorARG]
GO
/****** Object:  Table [dbo].[Admin]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Admin](
	[id] [int] NOT NULL,
	[nombre] [varchar](50) NOT NULL,
	[email] [varchar](50) NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Chat]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Chat](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[fecha] [date] NOT NULL,
	[nombreUsuario] [varchar](50) NOT NULL,
	[email] [varchar](50) NULL,
	[mensaje] [varchar](500) NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Clima]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Clima](
	[idLocalidad] [int] IDENTITY(1,1) NOT NULL,
	[nombreLocalidad] [varchar](50) NOT NULL,
	[fecha] [date] NOT NULL,
	[tempMax] [int] NULL,
	[tempMin] [int] NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Foro]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Foro](
	[id] [int] NOT NULL,
	[idTopico] [int] IDENTITY(1,1) NOT NULL,
	[nombreTopico] [varchar](100) NOT NULL,
	[fecha] [date] NULL,
	[contenido] [varchar](5000) NOT NULL,
 CONSTRAINT [PK_Foro] PRIMARY KEY CLUSTERED 
(
	[idTopico] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Localidad]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Localidad](
	[idLocalidad] [int] IDENTITY(1,1) NOT NULL,
	[nombreLocalidad] [varchar](50) NOT NULL,
	[infoLocalidad] [varchar](max) NULL,
 CONSTRAINT [PK_Localidad] PRIMARY KEY CLUSTERED 
(
	[idLocalidad] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Usuario]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Usuario](
	[id] [int] IDENTITY(1,1) NOT NULL,
 CONSTRAINT [PK_Usuario] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[UsuarioRegistrado]    Script Date: 11/2/2021 20:24:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[UsuarioRegistrado](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[nombre] [varchar](50) NOT NULL,
	[password] [varchar](50) NOT NULL,
	[email] [varchar](50) NOT NULL,
 CONSTRAINT [PK_UsuarioRegistrado] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[Admin]  WITH CHECK ADD  CONSTRAINT [FK_Admin_UsuarioRegistrado] FOREIGN KEY([id])
REFERENCES [dbo].[UsuarioRegistrado] ([id])
GO
ALTER TABLE [dbo].[Admin] CHECK CONSTRAINT [FK_Admin_UsuarioRegistrado]
GO
ALTER TABLE [dbo].[Chat]  WITH CHECK ADD  CONSTRAINT [FK_Chat_UsuarioRegistrado] FOREIGN KEY([id])
REFERENCES [dbo].[UsuarioRegistrado] ([id])
GO
ALTER TABLE [dbo].[Chat] CHECK CONSTRAINT [FK_Chat_UsuarioRegistrado]
GO
ALTER TABLE [dbo].[Clima]  WITH CHECK ADD  CONSTRAINT [FK_Clima_Localidad1] FOREIGN KEY([idLocalidad])
REFERENCES [dbo].[Localidad] ([idLocalidad])
GO
ALTER TABLE [dbo].[Clima] CHECK CONSTRAINT [FK_Clima_Localidad1]
GO
ALTER TABLE [dbo].[Foro]  WITH CHECK ADD  CONSTRAINT [FK_Foro_UsuarioRegistrado] FOREIGN KEY([id])
REFERENCES [dbo].[UsuarioRegistrado] ([id])
GO
ALTER TABLE [dbo].[Foro] CHECK CONSTRAINT [FK_Foro_UsuarioRegistrado]
GO
ALTER TABLE [dbo].[Localidad]  WITH CHECK ADD  CONSTRAINT [FK_Localidad_Localidad] FOREIGN KEY([idLocalidad])
REFERENCES [dbo].[Localidad] ([idLocalidad])
GO
ALTER TABLE [dbo].[Localidad] CHECK CONSTRAINT [FK_Localidad_Localidad]
GO
USE [master]
GO
ALTER DATABASE [ExplorARG] SET  READ_WRITE 
GO
